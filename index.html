function updatePageWithConfig(data) {
    console.log('Updating page with config data:', data);
    
    const config = data.site_config; 
    if (!config) {
        console.error('site_config object not found in the response data.');
        showErrorMessage('Configuration data is missing in the response.');
        return;
    }

    // Update title & metadata
    // ... existing code ...
    // Modal functionality for about photos
}

function initializeModalFunctionality() {
    const modal = document.getElementById('photoModal');
    const modalImg = document.getElementById('modalImage');
    const closeModal = document.querySelector('.close-modal');
    const snapContainers = document.querySelectorAll('.snap-container');
    
    // ** Check if modal elements exist before adding listeners **
    if (!modal || !modalImg || !closeModal) {
        console.error('Modal elements not found. Cannot initialize modal functionality.');
        return;
    }
    
    // ... existing code ...

    // ** Moved event listener INSIDE the function scope **
    // Close modal when clicking on close button
    closeModal.addEventListener('click', function() {
        modal.style.display = 'none';
    });
}

// Close modal when clicking outside the image
window.addEventListener('click', function(e) {
    // ... existing code ...
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    const modal = document.getElementById('photoModal');
    if (modal && e.key === 'Escape' && modal.style.display === 'block') {
        modal.style.display = 'none';
    }
});
// ... existing code ... 